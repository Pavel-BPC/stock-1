<div class="container h-100">

    <h4 class="text-center m-5">Добавление поставки</h4>

    <form [formGroup]="SupplyForm" role="form" class="form-group" novalidate>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="product_id">Продукт</label>
                    <select formControlName="product_id" class="form-control product_id selectpicker" [(ngModel)]="product_id">
                        <option *ngFor="let product of products" [value]="product.id" data-live-search="true">
                            {{product.name}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="worker_id">Ответственный</label>
                    <select formControlName="worker_id" class="form-control worker_id selectpicker" [(ngModel)]="worker_id">
                        <option *ngFor="let worker of users" [value]="worker.id" data-live-search="true">
                            {{worker.first_name}}
                        </option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="stock_id">Склад</label>
                    <select formControlName="stock_id" class="form-control stock_id selectpicker" [(ngModel)]="stock_id">
                        <option *ngFor="let stock of stocks" [value]="stock.id" data-live-search="true">
                            {{stock.name}}
                        </option>
                    </select>
                </div>
            </div>

            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="partner_id">Поставщик</label>
                    <select formControlName="partner_id" class="form-control partner_id selectpicker" [(ngModel)]="partner_id">
                        <option *ngFor="let partner of partners" [value]="partner.id" data-live-search="true">
                            {{partner.name}}
                        </option>
                    </select>
                </div>
            </div>

            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="quantity">Количество</label>
                    <input formControlName="quantity" class="form-control quantity" type="text" #quantity>
                </div>
                <div *ngFor="let validation of account_validation_messages.quantity">
                    <div class="alert alert-danger" *ngIf="SupplyForm.get('quantity').hasError(validation.type) &&
                                               (SupplyForm.get('quantity').dirty ||
                                               SupplyForm.get('quantity').touched)">
                        {{validation.message}}
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="date">Дата</label>
                    <input formControlName="date" class="form-control date" type="date" #date>
                </div>
                <div *ngFor="let validation of account_validation_messages.date">
                    <div class="alert alert-danger" *ngIf="SupplyForm.get('date').hasError(validation.type) &&
                                                   (SupplyForm.get('date').dirty ||
                                                   SupplyForm.get('date').touched)">
                        {{validation.message}}
                    </div>
                </div>
            </div>

        </div>

        <div class="form-group justify-content-center align-items-center text-center">
            <button [disabled]="SupplyForm.status == 'INVALID'" class="btn btn-outline-warning"
                (click)="add_supply(product_id, worker_id, stock_id, partner_id, quantity.value, date.value)">Добавить</button>
        </div>

    </form>

</div>