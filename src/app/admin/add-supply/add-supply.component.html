<div class="container h-100">

    <h4 class="text-center m-5">Добавление поставки</h4>

    <form [formGroup]="SupplyForm" role="form" class="form-group" novalidate>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="product_id">Продукт</label>
                    <select class="form-control selectpicker" name="product_id" id="product_id" [(ngModel)]="product_id"
                        [ngModelOptions]="{standalone: true}" data-live-search="true">
                        <option *ngFor="let product of products" [value]="product.id">
                            {{product.name}}
                        </option>
                    </select>
                </div>
                <!-- <div *ngIf="SupplyForm.controls['product_id'].invalid && (SupplyForm.controls['product_id'].dirty || SupplyForm.controls['product_id'].touched)"
                    class="alert alert-danger">
                    <div *ngIf="SupplyForm.controls['product_id'].errors.required">
                        Заполните данное поле!
                    </div>
                </div> -->
            </div>
            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="worker_id">Ответственный</label>
                    <select class="form-control selectpicker" name="worker_id" id="worker_id" [(ngModel)]="worker_id"
                        [ngModelOptions]="{standalone: true}" data-live-search="true">
                        <option *ngFor="let worker of users" [value]="worker.id">
                            {{worker.first_name}}
                        </option>
                    </select>
                </div>
                <!-- <div *ngIf="SupplyForm.controls['worker_id'].invalid && (SupplyForm.controls['worker_id'].dirty || SupplyForm.controls['worker_id'].touched)"
                    class="alert alert-danger">
                    <div *ngIf="SupplyForm.controls['worker_id'].errors.required">
                        Заполните данное поле!
                    </div>
                </div> -->
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="stock_id">Склад</label>
                    <select class="form-control selectpicker" name="stock_id" id="stock_id" [(ngModel)]="stock_id"
                        [ngModelOptions]="{standalone: true}" data-live-search="true">
                        <option *ngFor="let stock of stocks" [value]="stock.id">
                            {{stock.name}}
                        </option>
                    </select>
                </div>
                <!-- <div *ngIf="SupplyForm.controls['stock_id'].invalid && (SupplyForm.controls['stock_id'].dirty || SupplyForm.controls['stock_id'].touched)"
                    class="alert alert-danger">
                    <div *ngIf="SupplyForm.controls['stock_id'].errors.required">
                        Заполните данное поле!
                    </div>
                </div> -->
            </div>

            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="partner_id">Поставщик</label>
                    <select class="form-control selectpicker" name="partner_id" id="partner_id" [(ngModel)]="partner_id"
                        [ngModelOptions]="{standalone: true}" data-live-search="true">
                        <option *ngFor="let partner of partners" [value]="partner.id">
                            {{partner.name}}
                        </option>
                    </select>
                </div>
                <!-- <div *ngIf="SupplyForm.controls['partner_id'].invalid && (SupplyForm.controls['stock_id'].dirty || SupplyForm.controls['stock_id'].touched)"
                    class="alert alert-danger">
                    <div *ngIf="SupplyForm.controls['stock_id'].errors.required">
                        Заполните данное поле!
                    </div>
                </div> -->
            </div>

            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="quantity">Количество</label>
                    <input formControlName="quantity" class="form-control quantity" type="text" #quantity>
                </div>
                <div *ngFor="let validation of acquantity_validation_messages.quantity">
                    <div class="alert alert-danger" *ngIf="SupplyForm.get('quantity').hasError(validation.type) &&
                                               (SupplyForm.get('quantity').dirty ||
                                               SupplyForm.get('quantity').touched)">
                        {{validation.message}}
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="form-group">
                    <label class="control-label" for="date">Дата</label>
                    <input formControlName="date" class="form-control date" type="date" #date>
                </div>
                <!-- <div *ngFor="let validation of acquantity_validation_messages.date">
                    <div class="alert alert-danger" *ngIf="SupplyForm.get('date').hasError(validation.type) &&
                                                   (SupplyForm.get('date').dirty ||
                                                   SupplyForm.get('date').touched)">
                        {{validation.message}}
                    </div>
                </div> -->
            </div>

        </div>

        <div class="form-group justify-content-center align-items-center text-center">
            <button class="btn btn-outline-warning"
                (click)="add_supply(product_id, worker_id, stock_id, partner_id, quantity.value, date.value)">Добавить</button>
        </div>

    </form>

</div>